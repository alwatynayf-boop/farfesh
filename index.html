<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>فرفش مع الأسطورة</title>
    <style>
        body { margin: 0; background: #02050f; color: #00ff00; font-family: 'Courier New', Tahoma, sans-serif; overflow: hidden; height: 100vh; display: flex; flex-direction: column; position: relative; }
        .stars { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; background-image: radial-gradient(2px 2px at 20px 30px, #eee, rgba(0,0,0,0)), radial-gradient(2px 2px at 40px 70px, #fff, rgba(0,0,0,0)); background-size: 300px 300px; animation: move-it 100s linear infinite; }
        @keyframes move-it { from { background-position: 0 0; } to { background-position: 1000px 1000px; } }
        
        .header-area { text-align: center; padding: 5px; border-bottom: 2px solid #00ff00; background: rgba(0,0,0,0.8); min-height: 5px; }
        
        .main-title { 
            font-size: 16px; font-weight: bold; text-shadow: 2px 2px #000; display: block; margin-top: 15px;
            animation: rainbow-text 3s linear infinite, shake 0.5s ease-in-out infinite;
        }

        @keyframes rainbow-text {
            0% { color: #ff0000; } 20% { color: #ffff00; } 40% { color: #00ff00; }
            60% { color: #00ffff; } 80% { color: #0000ff; } 100% { color: #ff00ff; }
        }

        @keyframes shake {
            0%, 100% { transform: translate(0,0); }
            25% { transform: translate(1px, 1px); }
            50% { transform: translate(-1px, -1px); }
            75% { transform: translate(1px, -1px); }
        }

        .container { display: flex; flex-grow: 1; height: calc(100vh - 80px); }
        
        .sidebar { width: 115px; background: rgba(0,0,0,0.8); border-left: 2px solid #00ff00; display: flex; flex-direction: column; padding: 5px; gap: 5px; text-align: center; z-index: 10; }
        .sidebar-title { font-size: 12px; font-weight: bold; color: #fff; margin-bottom: 10px; border-bottom: 1px solid #00ff00; padding-bottom: 5px; }
        
        .sidebar button { background: #000; border: 2px outset #00ff00; color: #00ff00; padding: 8px 2px; font-size: 11px; cursor: pointer; font-weight: bold; width: 100%; }
        .content-area { flex-grow: 1; position: relative; display: flex; flex-direction: column; align-items: center; justify-content: flex-start; overflow: hidden; padding-top: 10px; }
        .section { display: none; width: 100%; height: 100%; flex-direction: column; align-items: center; justify-content: flex-start; }
        .active-section { display: flex; }

        .marquee-container { position: fixed; bottom: 0; width: 100%; background: #000080; color: #fff; white-space: nowrap; overflow: hidden; padding: 6px 0; border-top: 2px solid #00ff00; }
        .marquee-text { display: inline-block; padding-right: 100%; animation: marquee-anim 25s linear infinite; }
        @keyframes marquee-anim { 0% { transform: translateX(-100%); } 100% { transform: translateX(100%); } }

        .choice-box { width: 85%; padding: 15px; margin: 5px; text-align: center; font-size: 16px; font-weight: bold; border: 3px double; cursor: pointer; }
        .blue-choice { background: #000080; border-color: #00f; color: #fff; }
        .red-choice { background: #800000; border-color: #f00; color: #fff; }
        .joke-display { width: 85%; padding: 15px; border: 2px dashed #ffff00; color: #ffff00; font-size: 17px; text-align: center; min-height: 80px; display: flex; align-items: center; background: rgba(0,0,0,0.7); margin-top: 20px; }
        
        #paint-wrap { width: 95%; height: 50%; background: #fff; border: 2px solid #00ff00; margin-bottom: 5px; cursor: crosshair; position: relative; }
        canvas#canv { width: 100%; height: 100%; touch-action: none; background: #fff; }
        #pacman-canvas { background: #000; border: 2px solid #00f; }
        .pac-controls { display: grid; grid-template-columns: repeat(3, 50px); gap: 10px; margin-top: 15px; }
        .pac-btn { width: 50px; height: 50px; background: #333; color: #fff; border: 2px solid #00ff00; display: flex; align-items: center; justify-content: center; font-size: 20px; cursor: pointer; }
    </style>
</head>
<body>
    <div class="stars"></div>
    <div class="header-area"></div>
    <div class="container">
        <div class="sidebar">
            <div class="sidebar-title">قائمة الأسطورة</div>
            <button onclick="show('home')">الرئيسية</button>
            <button onclick="show('q-sec')">لو خيروك</button>
            <button onclick="show('joke-sec')">النكت</button>
            <button onclick="show('pac-sec')">باك مان</button>
            <button onclick="show('paint-sec')">الرسام</button>
            <button onclick="show('forum-sec')">المنتدى</button>
            <div class="main-title">فرفش مع الأسطورة</div>
        </div>

        <div class="content-area">
            <div id="home" class="section active-section"><h2>أهلاً سالم</h2><p>تم تحديث النكت والأسئلة لعيونك</p></div>
            
            <div id="q-sec" class="section">
                <div id="q-blue" class="choice-box blue-choice" onclick="nextQ()"></div>
                <div style="color:#fff">أو</div>
                <div id="q-red" class="choice-box red-choice" onclick="nextQ()"></div>
            </div>

            <div id="joke-sec" class="section">
                <div id="joke-box" class="joke-display">اضغط التالي لتضحك</div>
                <button onclick="nextJ()" style="background:#0f0; padding:8px 25px; margin-top:10px; font-weight:bold; cursor:pointer;">التالي</button>
            </div>

            <div id="pac-sec" class="section">
                <canvas id="pacman-canvas" width="280" height="280"></canvas>
                <div class="pac-controls">
                    <div></div><div class="pac-btn" onclick="setPacDir('up')">↑</div><div></div>
                    <div class="pac-btn" onclick="setPacDir('left')">←</div><div></div><div class="pac-btn" onclick="setPacDir('right')">→</div>
                    <div></div><div class="pac-btn" onclick="setPacDir('down')">↓</div><div></div>
                </div>
            </div>

            <div id="paint-sec" class="section">
                <div id="paint-wrap"><canvas id="canv"></canvas></div>
                <button onclick="ctx.fillStyle='#fff'; ctx.fillRect(0,0,canv.width,canv.height);">مسح</button>
            </div>

            <div id="forum-sec" class="section">
                <iframe src="https://www5.cbox.ws/box/?boxid=961537&boxtag=R2z6Bk" width="100%" height="100%" frameborder="0" allowtransparency="yes"></iframe>
            </div>
        </div>
    </div>

    <div class="marquee-container">
        <div class="marquee-text">
            ** موقع فرفش الأسطورة - فرفش يا بعد حيي - مترشح ضمن افضل ١٠٠ موقع عربي - مترشح ضمن افضل ١٠٠٠ موقع خليجي ***
        </div>
    </div>

    <script>
        function show(id) {
            var sections = document.getElementsByClassName('section');
            for (var i = 0; i < sections.length; i++) { sections[i].classList.remove('active-section'); }
            document.getElementById(id).classList.add('active-section');
            if(id === 'paint-sec') setTimeout(initCanv, 100);
            if(id === 'pac-sec') initPacman();
        }

        // --- قسم لو خيروك (تمت التعبئة بالكامل) ---
        const qs = [
            {a:"تاكل بصل ني كل صباح", b:"تشرب عصير ثوم كل ليلة"},
            {a:"تعيش في بيت مسكون", b:"تنام في غابة كلها وحوش"},
            {a:"تكون مشهور ومكروه", b:"تكون مجهول ومحبوب"},
            {a:"تفقد ذاكرتك تماماً", b:"تفقد قدرتك على النوم"},
            {a:"تعيش بدون جوال سنة", b:"تعيش بدون سيارة سنة"},
            {a:"تكون خارق السرعة", b:"تكون خارق القوة"},
            {a:"تسمع نكت سخيفة للأبد", b:"ما تضحك أبداً طول حياتك"},
            {a:"تلبس شتوي في الصيف", b:"تلبس صيفي في الشتاء"},
            {a:"تصحي الصبح تلاقي نفسك ملك", b:"تصحي تلاقي نفسك طفل"},
            {a:"تاكل وجبتك المفضلة فقط", b:"تجرب أكلة جديدة كل يوم غصباً عنك"}
        ];
        let qI=0;
        function nextQ(){ document.getElementById('q-blue').innerText=qs[qI].a; document.getElementById('q-red').innerText=qs[qI].b; qI=(qI+1)%qs.length; }
        nextQ();

        // --- قسم النكت (تمت التعبئة بالكامل) ---
        const js = [
            "محشش سأل أخوه: ليش أنت أصلع؟ قال: من كثر التفكير. قال المحشش: وأنا ليش شعري كثيف؟ قال: من كثر ما تسأل!",
            "غبي في حصة علوم سأله المدرس: ايش فوائد الخشب؟ قال: الخشب منه نصنع الملاعق الخشبية عشان ما تجرح القدر!",
            "واحد بخيل بنى بيت وحط فيه بابين.. واحد للدخول وواحد عشان يطلع منه الضيوف بسرعة!",
            "محشش شاف لوحة 'ممنوع الوقوف' قام انسدح!",
            "غبي ضاع شاحنه، قال لمرته: خلاص ضاع الشاحن. قالت: دور زين. قال: لو كان إبرة كان لقيته!",
            "عجوز راحت للدكتور، قالها: عندك ضغط. قالت: والله ما عندي غير بنتين وهربوا مع أزواجهم!",
            "واحد سأل محشش: الساعة كم؟ قال: مدري بس الرقمين اللي فوق بعض طاحوا!",
            "محشش يقول لخويه: تصدق الدنيا هذي غريبة، الواحد يموت وما يدري متى يعزونه!",
            "واحد عصبي تزوج وحدة عصبية، جابوا ولد أول ما طلع قال للممرضة: وش تبين تناظرين؟!",
            "بخيل دخل الحمام وما طلع.. ليش؟ لأن مكتوب على الباب 'ادفع'!"
        ];
        let jI=0;
        function nextJ(){ document.getElementById('joke-box').innerText=js[jI]; jI=(jI+1)%js.length; }
        nextJ();

        // الرسام والباك مان (أكواد مختصرة لتعمل مباشرة)
        let canv=document.getElementById('canv'), ctx=canv.getContext('2d');
        function initCanv(){ canv.width=canv.parentElement.clientWidth; canv.height=canv.parentElement.clientHeight; ctx.fillStyle="#fff"; ctx.fillRect(0,0,canv.width,canv.height); }
        canv.onmousedown=(e)=>{ctx.beginPath();ctx.moveTo(e.offsetX,e.offsetY);canv.onmousemove=(ev)=>{ctx.lineTo(ev.offsetX,ev.offsetY);ctx.stroke();};};
        window.onmouseup=()=>canv.onmousemove=null;

        function initPacman(){ let pc=document.getElementById('pacman-canvas'), pctx=pc.getContext('2d'); pctx.fillStyle="yellow"; pctx.beginPath(); pctx.arc(140,140,30,0.2*Math.PI, 1.8*Math.PI); pctx.lineTo(140,140); pctx.fill(); }
        function setPacDir(d){ alert("تحركت إلى: " + d + " (اللعبة قيد التطوير)"); }
    </script>
</body>
</html>
